<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

    <style type="text/css">

        body {
            margin: 0;
            padding: 0;
            perspective: 800px;
            position: relative;
        }

        .stage {
            perspective: 800px;
            width:800px;
            height:400px;
            overflow:hidden;
            position:relative;
            background:#eee;
            -webkit-transform: rotateX(60deg);
        }

        .track-wrapper {
            -webkit-transform: translateY(-132px) translateX(-483px);
            -webkit-transform-origin: 400px 352px;
        }

        .track {
        }

        .track img {
            width:1000px;
            height:1000px;
        }

        .car {
            height: 20px;
            width: 20px;
            background: #333;
            position: absolute;
            left: 50%;
            bottom: 10%;
            margin-left:-10px;
            margin-top:-10px;
            z-index:10;
        }

    </style>

    <title></title>
</head>
<body>

    <div class="stage">

        <div class="stage-inner">

            <div class="car">
            </div>

        <div class="track-wrapper">

            <div class="track">
                <img src="/img/SuperMarioKartMapMushroomCup5.png" />
            </div>

        </div>

        </div>

    </div>


    <script src="/js/vendor/jquery-1.9.1.min.js"></script>

    <script>

        var rot = 0;
        var speed = 0;
        var originX = 0;
        var originY = -132;

        $(window).on("keydown", function (e) {

            // left
            if (e.keyCode === 37) {
                rot+=4;
            }

            // right
            if (e.keyCode === 39) {
                rot-=4;
            }

            // up
            if (e.keyCode === 38) {
                e.preventDefault();
                originY += 2;
            }

            // down
            if (e.keyCode === 40) {
                e.preventDefault();
                originY-=2;
            }

            $(".track-wrapper").css({ transform: 'rotateZ(' + rot + 'deg) translateX(-483px)' });
            $(".stage-inner").css({ transform: 'translateY(' + originY + 'px)' });

        });

    </script>


</body>
</html>
